{% extends 'base.html' %} {% load static %} {% block content %} {% comment %}
<div class="filter-sort-container" style="margin-bottom: 20px">
  <form method="get" action="{% url 'movie_list' %}">
    <label for="year">Filter by Year:</label>
    <select id="year" name="year">
      <option value="">All Years</option>
      {% for year in years %}
      <option value="{{ year }}">{{ year }}</option>
      {% endfor %}
    </select>

    <label for="genre">Filter by Genre:</label>
    <select id="genre" name="genre">
      <option value="">All Genres</option>
      {% for genre in genres %}
      <option value="{{ genre }}">{{ genre }}</option>
      {% endfor %}
    </select>

    <label for="min_rating">Min IMDb Rating:</label>
    <input
      type="number"
      id="min_rating"
      name="min_rating"
      step="0.1"
      min="0"
      max="10"
    />

    <label for="max_rating">Max IMDb Rating:</label>
    <input
      type="number"
      id="max_rating"
      name="max_rating"
      step="0.1"
      min="0"
      max="10"
    />

    <label for="sort_by">Sort by:</label>
    <select id="sort_by" name="sort_by">
      <option value="">Default</option>
      <option value="year">Year</option>
      <option value="rating">IMDb Rating</option>
      <option value="duration">Duration</option>
    </select>

    <button type="submit">Apply</button>
  </form>
</div>
{% endcomment %}
<div class="filter-sort-container" style="margin-bottom: 20px">
  <form method="get" action="{% url 'movie_list' %}">
    <label for="year">Filter by Year:</label>
    <select id="year" name="year">
      <option value="">All Years</option>
      {% for year in years %}
      <option value="{{ year }}">{{ year }}</option>
      {% endfor %}
    </select>

    <label for="genre">Filter by Genre:</label>
    <select id="genre" name="genre">
      <option value="">All Genres</option>
      {% for genre in static_genres %}
      <option value="{{ genre }}">{{ genre }}</option>
      {% endfor %}
    </select>

    <label for="min_rating">Min IMDb Rating:</label>
    <input
      type="number"
      id="min_rating"
      name="min_rating"
      step="0.1"
      min="0"
      max="10"
    />

    <label for="max_rating">Max IMDb Rating:</label>
    <input
      type="number"
      id="max_rating"
      name="max_rating"
      step="0.1"
      min="0"
      max="10"
    />

    <label for="sort_by">Sort by:</label>
    <select id="sort_by" name="sort_by">
      <option value="">Default</option>
      <option value="year">Year</option>
      <option value="rating">IMDb Rating</option>
      <option value="duration">Duration</option>
      <option value="title">Title</option>
    </select>

    <button type="submit">Apply</button>
  </form>
</div>

<div class="movie-grid">
  {% for movie in movies %}
  <div class="movie-card">
    <img
      src="{{ movie.poster_url }}"
      alt="{{ movie.title }}"
      class="movie-poster"
    />
    <div class="movie-info">
      <h3>{{ movie.title }}</h3>
      <p style="color: white; font-size: 10px">
        IMDB {{ movie.imdb_rating }}/10 • {{ movie.year }} • {{ movie.genre }} •
        {{ movie.duration }}
      </p>
      <a href="{% url 'movie_detail' movie.pk %}" class="btn btn-detail"
        >Detail</a
      >
    </div>
  </div>
  {% empty %}
  <p>No movies found.</p>
  {% endfor %}
</div>
{% endblock content %}
